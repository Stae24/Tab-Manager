chrome.action.onClicked.addListener(()=>{chrome.tabs.create({url:"index.html"})});chrome.tabs.onCreated.addListener(()=>e());chrome.tabs.onRemoved.addListener(()=>e());chrome.tabs.onUpdated.addListener(()=>e());chrome.tabs.onMoved.addListener(()=>e());chrome.tabGroups.onCreated.addListener(()=>e());chrome.tabGroups.onUpdated.addListener(()=>e());chrome.tabGroups.onRemoved.addListener(()=>e());chrome.tabGroups.onMoved.addListener(()=>e());let r=!1;function e(){if(r){setTimeout(()=>{r||chrome.runtime.sendMessage({type:"REFRESH_TABS"}).catch(()=>{})},400);return}chrome.runtime.sendMessage({type:"REFRESH_TABS"}).catch(()=>{})}chrome.runtime.onMessage.addListener((t,a,d)=>{if(t.type==="START_ISLAND_CREATION")return r=!0,d({success:!0}),!0;if(t.type==="END_ISLAND_CREATION")return r=!1,setTimeout(()=>e(),100),d({success:!0}),!0;if(t.type==="FREEZE_TAB")return chrome.tabs.discard(t.tabId,o=>{d({success:!!o})}),!0});
